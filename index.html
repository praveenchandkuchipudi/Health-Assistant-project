<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
   <link rel="stylesheet" href="assets/css/styles.css">
   <title>Login with OTP</title>
</head>
<body>
   <div class="login">
      <img src="assets/img/login-bg.png" alt="A person logging in" class="login__img">

      <form onsubmit="return verifyEmail(event)" class="login__form" id="email-form">
         <h1 class="login__title">Login with OTP</h1>

         <div class="login__content">
            <div class="login__box">
               <i class="ri-user-3-line login__icon"></i>
               <div class="login__box-input">
                  <input type="email" required class="login__input" id="login-email" placeholder=" ">
                  <label for="login-email" class="login__label">Email</label>
               </div>
            </div>
         </div>

         <button type="submit" class="login__button">Send OTP</button>
      </form>

      <form onsubmit="return verifyOTP(event)" class="login__form" id="otp-form" style="display: none;">
         <h1 class="login__title">Enter OTP</h1>

         <div class="login__content">
            <div class="login__box">
               <i class="ri-shield-keyhole-line login__icon"></i>
               <div class="login__box-input">
                  <input type="text" required class="login__input" id="login-otp" placeholder=" ">
                  <label for="login-otp" class="login__label">OTP</label>
               </div>
            </div>
         </div>

         <button type="submit" class="login__button">Verify OTP</button>
      </form>
   </div>

   <script>
      let generatedOTP = "";

      function verifyEmail(event) {
         event.preventDefault();
         const email = document.getElementById("login-email").value;

         // Check if the email matches your Gmail ID
         if (email !== "subhashmanepalli2005@gmail.com") {
            alert("Please enter a valid Gmail address.");
         } else {
            // Generate a random 6-digit OTP
            generatedOTP = Math.floor(100000 + Math.random() * 900000);
            alert(`OTP sent to ${email}: ${generatedOTP}`); // Simulate OTP sent

            // Hide email form and show OTP form
            document.getElementById("email-form").style.display = "none";
            document.getElementById("otp-form").style.display = "block";
         }
      }

      function verifyOTP(event) {
         event.preventDefault();
         const enteredOTP = document.getElementById("login-otp").value;

         // Verify the entered OTP
         if (enteredOTP == generatedOTP) {
            alert("OTP verified successfully!");
            window.location.href = "success.html"; // Redirect to success page
         } else {
            alert("Invalid OTP. Please try again.");
         }
      }
   </script>
</body>
</html>
